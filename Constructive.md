# **Constructive**

## 给定图的度数序列，构造简单图

每次取出度数最大的点，记度数为 $k$ ，然后向剩余 $k$ 个度数最大的点连边

****

## 由特殊的链扩展到一般的环

给定 $n$ 个数，将它们重新排列成一个环，使得每相邻两个数所形成的 $unordered\_pair$ 的个数最少

首先考虑为链的情况，设各不相同的数为 $m$ 个，则所形成的 $unorder\_pair$ 的个数为 $m - 1$ 个，在环的情况下则至多有 $m$ 个，我们则考虑是否能将其构造拥有 $m - 1$ 个的环。对于一个 $m$ 个各不相同数的序列有 $m$ 个点与 $m - 1$ 条边，即可想到构造树形结构(若为 $m$ 个点与 $m$ 条边则为基环树)，一个 $m$ 个节点的树上的类 $dfs$ 序（因为为环，所以不考虑回到根节点的边）的长度为 $2 \times m - 2$，对于长度 $n > 2 \times m - 2$的序列，将多余的数插入到数值相同的节点旁即可，则得出的类 $dfs$ 序即我们所构造的答案。

****

## 矩阵型构造

考虑链状，由链变换为矩阵，例如蛇形变换

考虑重复构造，构造有限行或列，然后不断重复

矩阵方格连通性构造

构造 $n$ 行 $m$ 列的矩阵，使其的矩阵和为 $k$ ，且每行每列的异或值相同 （考虑 $2 \times 2$ 和 $4 \times 4$ 的矩阵，角落处的矩阵，边长奇偶性不同的矩阵（消除异或的影响））

[Problem - E - Codeforces⁤](https://codeforces.com/contest/1917/problem/E) 

[F-小红的矩阵构造_牛客周赛 Round 34 (nowcoder.com) ](https://ac.nowcoder.com/acm/contest/75766/F) 

****

## 增量构造

根据 $n - 1$ 或者 $n - 2$ 的解来构造 $n$ 的解，或者把 $n$ 转化为 $n - 1$ 或 $n - 2$ 的子问题

****

## 黑白染色

平面上有 $n$ 条直线，将平面划分成若干个区域，你要对这些区域黑白染色，使得相邻的区域颜色都是不同的

$solution:$ 每添加一条直线，会将当前平面切分成两侧，将其中一侧的所有黑白区域翻转

****

## 二进制递归构造



****

## 抽屉原理

抽屉原理，或称为鸽巢原理，是组合数学中一个非常重要的原理。通常表达的是，若将 $n$ 件物品放入 $k$ 个抽屉，则其中一定有一个抽屉包含至少 $\lceil \frac{n}{k}  \rceil$ 件物品，也一定有一个抽屉包含至多 $\lfloor \frac{n}{k} \rfloor$ 件物品。

在一些构造题中，常常会要求构造一个权值至少为（或不超过）某一个数的方案。很多时候，可以考虑找出若干个可行的方案，使得它们的权值之和是定值。假设找出了 $k$ 个可行方案，其总权值和为 $n$ ，由抽屉原理，这些方案中最小的权值一定不超过 $\lfloor \frac{n}{k} \rfloor $ ，最大的权值至少为 $\lceil \frac{n}{k} \rceil$ 

****

## $DFS$ 树

在解决一些图上的构造问题时，$DFS$ 树往往有非常大的帮助

一张图的 $DFS$ 树是在对其进行深度优先遍历时，所形成的树结构。

在构造题中，通常我们用到的是无向图的 $DFS$ 树。如果我们将每条边按照第一次经过时的方向进行定向，则无向图的 $DFS$ 树满足所有非树边都是后向边（即每个点到其祖先的边）



对于有向图而言，考虑树边，前向边，后向边，横跨边（即访问了一个其子树都被访问完毕的节点）

****

## 递归法

在一些构造题中，对于不同的输入，问题的结构有很大的相似性。在很多时候，这往往意味着我们的构造也具有很大的相似性，或是具有周期性。这时，我们往往可以通过递归的方式，对子问题进行构造，并在子问题的构造的基础上进行一些小的调整，来得到原问题的构造。

需要指出的是，递归可以作为一种思想，但在实际的解题过程中可能有代码、时空复杂度高的缺点，需要选手灵活运用。

****

## 排列型构造

如果不易于从头构造一个完整排列， 则可从某个已经形成的排列入手

****

相邻质数差和为质数的题目，考虑构造同余序列或者循环序列，考虑 $2,3,5,8$ 等数字

****

## 操作性构造

对于给定操作的构造，首先考虑能否将题干操作转化为已知已学的熟悉操作方式，例如交换、左循环、右循环、不变等；或者考虑如何将对集合的操作转化为对其中某个或某几个元素的操作，而对集合中的其他元素无影响。

****

## 环上分段贪心

对于一个起点 $st$ ，枚举每一段的起点，贪心往后取，取到最后一个终点为 $ed$ 。如果前面有一段长度不足最大长度 $L$ ，则可以将这一段的起点前移。这里可以尝试调整 $st$ 的位置，即可以以 $ed$ 作为起点，逆序实现上述贪心，可以在保证 $ed$ 不变的情况下，找到一个最小的 $st'$ ，如果此时已经足够覆盖 $N$ 的点，那么 $L$ 就是可行的，如果在这种情况下还不能覆盖，则 $L$ 就不可行。

****

与相邻两项相关时考虑差分

求严格单调递增时每个位置可以减去下标，转化为求单调不减

操作时优先考虑最极端的情况：例如数列中全是 $1$ 或 $0$ ，数列单调或值相同，操作数平凡等等。

“相等”去联想抵消操作，例如 $1$ 和 $-1$ 相互抵消变成 $0$ 

无向无根树 $\rightarrow$ 黑白间隔染色

一个二分图黑白染色后，黑色节点的值为 $deg$ ，白色节点值为 $-deg$ ，则整张图的和为 $0$ 

## 交互

数据结构维护询问，限制log次想到线段树上的节点

询问次数很少时考虑边界（网格边界角落中间等）
